<section class="products">
  <h2>My Cart</h2>

  <div *ngIf="cartItems.length === 0" class="empty-cart">
    <p>Your cart is empty.</p>
    <a routerLink="/products/tents" class="button">Continue Shopping</a>
  </div>

  <ul class="product-list" *ngIf="cartItems.length > 0">
    <li class="cart-card divider" *ngFor="let item of cartItems">
      <a [routerLink]="['/product', item.Id]" class="cart-card__image">
        <img [src]="item.Images.PrimaryMedium" [alt]="item.Name" alt="{{item.Name}}" />
      </a>
      <a [routerLink]="['/product', item.Id]">
        <h2 class="card__name">{{ item.Name }}</h2>
      </a>
      <p class="cart-card__color">{{ item.SelectedColor || item.Colors[0].ColorName || '' }}</p>
      <p class="cart-card__quantity">
        <label for="quantity-{{item.Id}}">Quantity:</label>
        <input
          type="number"
          [value]="item.Quantity"
          min="1"
          placeholder="Quantity"
          [attr.aria-label]="'Quantity for ' + item.Name"
          [attr.title]="'Quantity for ' + item.Name"
          (change)="updateQuantity(item.Id, $event)"
        />
      </p>
      <p class="cart-card__price">${{ item.FinalPrice }}</p>
      <button
        class="cart-card__remove"
        (click)="removeFromCart(item.Id)"
        [attr.aria-label]="'Remove ' + item.Name"
      >
        X
      </button>
    </li>
  </ul>

  <div class="cart-footer" *ngIf="cartItems.length > 0">
    <p class="cart-total">Total: ${{ cartTotal.toFixed(2) }}</p>
    <a routerLink="/checkout" class="button">Checkout</a>
  </div>
</section>
